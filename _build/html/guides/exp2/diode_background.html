
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Background: Diodes &#8212; F540 Interactive Book</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.c441f2ba0852f4cabcb80105e3a46ae6.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Guide to Experiment 2: Diodes" href="exp2-guide.html" />
    <link rel="prev" title="Data analysis: Fitting the filter transfer function" href="../exp1/exemplo_ajuste_rc.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">F540 Interactive Book</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../README.html">
   Syllabus
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Introduction to F540
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro/intro.html">
   Welcome to F540 Jupyter book
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Background
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../examples/Basics%20-%20Python.html">
   Python basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../examples/Plotting%20-%20AC%20wave%20plots.html">
   Basics of AC waves
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../examples/Sympy%20-%20symbolic%20manipulation.html">
   Solving Kirchhoff’s law ordinary differential equation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  RC filters (exp. 1)
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../exp1/complex_impedance.html">
   Background: Complex impedances
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exp1/exp1-guide.html">
   Guide to Experiment 1: RC filters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exp1/exemplo_ajuste_rc.html">
   Data analysis: Fitting the filter transfer function
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Diodes (exp. 2)
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Background: Diodes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="exp2-guide.html">
   Guide to Experiment 2: Diodes
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Transistors characterization (exp. 3a)
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../exp3a/exp3a-guide.html">
   Guide to Experiment 3a: Transistor characterization
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/guides/exp2/diode_background.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/gwiederhecker/F540_jbook/2021_1s?urlpath=tree/guides/exp2/diode_background.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/gwiederhecker/F540_jbook/blob/2021_1s/guides/exp2/diode_background.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pacotes-e-funcoes">
   Pacotes e funções
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#resolvendo-a-lei-de-kirchhoff-kvl-graficamente">
   Resolvendo a lei de Kirchhoff (KVL) graficamente
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#curvas-de-carga">
     Curvas de carga
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#variando-a-tensao-de-entrada-v-in">
       Variando a tensão de entrada
       <span class="math notranslate nohighlight">
        \(V_{in}\)
       </span>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#variando-a-resistencia-r-1">
       Variando a resistência
       <span class="math notranslate nohighlight">
        \(R_{1}\)
       </span>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#circuitos-com-diodos">
   Circuitos com diodos
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="background-diodes">
<h1>Background: Diodes<a class="headerlink" href="#background-diodes" title="Permalink to this headline">¶</a></h1>
<div class="tip admonition">
<p class="admonition-title">Goals</p>
<ul class="simple">
<li><p>Understand the concept of load lines and its usage to solve linear and nonlinear circuits.</p></li>
<li><p>IV (current vs. voltage) curve of diodes</p></li>
<li><p>Simple diode circuits</p></li>
</ul>
</div>
<div class="section" id="pacotes-e-funcoes">
<h2>Pacotes e funções<a class="headerlink" href="#pacotes-e-funcoes" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_hide-cell tag_thebe-init docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># importar a bilioteca pyplot para fazer gráficos</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="k">as</span> <span class="nn">plticker</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>   <span class="c1"># importar a biblioteca Numpy para lidar com matrizes</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>   <span class="c1"># importa bilioteca pandas para  lidar com processamento de dados</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">optimize</span>
<span class="kn">import</span> <span class="nn">SchemDraw</span> <span class="k">as</span> <span class="nn">schem</span>
<span class="kn">import</span> <span class="nn">SchemDraw.elements</span> <span class="k">as</span> <span class="nn">e</span>
<span class="c1"># interactive cells</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interact_manual</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">optimize</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">c4db5caee9c7</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">optimize</span>
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="kn">import</span> <span class="nn">SchemDraw</span> <span class="k">as</span> <span class="nn">schem</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="kn">import</span> <span class="nn">SchemDraw.elements</span> <span class="k">as</span> <span class="nn">e</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="c1"># interactive cells</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;SchemDraw&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell tag_thebe-init docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">DivTensao</span><span class="p">(</span><span class="n">Z1</span><span class="p">,</span> <span class="n">Z2</span><span class="p">,</span> <span class="n">fonte</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span><span class="n">e</span><span class="o">.</span><span class="n">SOURCE_V</span><span class="p">],</span> <span class="n">unit_size</span> <span class="o">=</span> <span class="mf">2.5</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">schem</span><span class="o">.</span><span class="n">Drawing</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="n">unit_size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fonte</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="c1">#fonte</span>
        <span class="n">gnd1</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">GND</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fonte</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$V_</span><span class="si">{Th}</span><span class="s1">$&#39;</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">RES</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$R_g$&#39;</span><span class="p">)</span>
    <span class="c1">#divisor de tensão</span>
    <span class="n">vin</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">DOT_OPEN</span> <span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;$V_</span><span class="si">{in}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="n">z1</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Z1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;$</span><span class="si">{}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Z1</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">z2</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Z2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span><span class="n">botlabel</span><span class="o">=</span><span class="s1">&#39;$</span><span class="si">{}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Z2</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">gnd2</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">GND</span><span class="p">)</span>
    <span class="c1">#output</span>
    <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">LINE</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="n">z1</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">vout</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">DOT_OPEN</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;$V_</span><span class="si">{out}</span><span class="s1">$&#39;</span><span class="p">)</span>
    <span class="c1">#loop</span>
    <span class="n">d</span><span class="o">.</span><span class="n">labelI</span><span class="p">(</span><span class="n">z2</span><span class="p">,</span> <span class="s1">&#39;$I$&#39;</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">arrowofst</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">arrowlen</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">d</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="resolvendo-a-lei-de-kirchhoff-kvl-graficamente">
<h2>Resolvendo a lei de Kirchhoff (KVL) graficamente<a class="headerlink" href="#resolvendo-a-lei-de-kirchhoff-kvl-graficamente" title="Permalink to this headline">¶</a></h2>
<p>Quando escreve-se a KVL para componentes cuja relação entre tensão e corrente é linear, geralmente é trivial resolver a lei de Kirchhoff. Por exemplo, considere o circuito abaixo:</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DivTensao</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">RES</span><span class="p">,</span><span class="s1">&#39;R_1&#39;</span><span class="p">],[</span><span class="n">e</span><span class="o">.</span><span class="n">RES</span><span class="p">,</span><span class="s1">&#39;R_2&#39;</span><span class="p">],</span><span class="n">fonte</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span><span class="n">e</span><span class="o">.</span><span class="n">SOURCE_V</span><span class="p">])</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/diode_background_7_0.png" src="../../_images/diode_background_7_0.png" />
</div>
</div>
<p>KVL results in</p>
<div class="math notranslate nohighlight">
\[ V_{in} -R_1 I-R_2 I = 0, \]</div>
<p>i.e.,</p>
<div class="math notranslate nohighlight">
\[ I = \frac {V_{in}} {R_1 + R_2}. \]</div>
<p>Assume for a moment that you don’t know how to write Ohm’s law for the resistor <span class="math notranslate nohighlight">\( R_2 \)</span>, let the voltage on this resistor be set to <span class="math notranslate nohighlight">\( V_ {out} (I) \)</span>. The KVL in this case could be written in the form:</p>
<div class="math notranslate nohighlight">
\[V_{in} -R_1 I = V_ {out} (I). \]</div>
<p>We have two functions of the chain, one on the left side (LHS) and the other on the right side (RHS). If we  plot both on a <span class="math notranslate nohighlight">\( I \times V \)</span> chart result in the following,</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">Vin</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">R1</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">300</span><span class="p">),</span><span class="n">R2</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">300</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">plot_load_lines</span><span class="p">(</span><span class="n">Vin</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">R1</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">R2</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="c1">#limites dos eixos</span>
    <span class="n">Vin_min</span><span class="p">,</span> <span class="n">Vin_max</span> <span class="o">=</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span> <span class="c1"># [V]</span>
    <span class="n">I_min</span><span class="p">,</span> <span class="n">I_max</span> <span class="o">=</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span><span class="mi">60</span> <span class="c1"># [mA]</span>
    <span class="c1">#-------------</span>
    <span class="n">I</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">I_min</span><span class="p">,</span><span class="n">I_max</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="c1">#----------------------</span>
    <span class="n">Vlhs</span> <span class="o">=</span> <span class="n">Vin</span><span class="o">-</span><span class="n">R1</span><span class="o">*</span><span class="n">I</span> <span class="c1"># equação LHS</span>
    <span class="n">Vrhs</span> <span class="o">=</span> <span class="n">R2</span><span class="o">*</span><span class="n">I</span> <span class="c1"># equação RHS</span>
    <span class="c1">#---</span>
    <span class="n">fig_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="n">fig_size</span><span class="p">)</span>
    <span class="c1">#------------------</span>
    <span class="n">ax0</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">DivTensao</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">RES</span><span class="p">,</span><span class="s1">&#39;R_1&#39;</span><span class="p">],[</span><span class="n">e</span><span class="o">.</span><span class="n">RES</span><span class="p">,</span><span class="s1">&#39;R_2&#39;</span><span class="p">],</span><span class="n">fonte</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span><span class="n">e</span><span class="o">.</span><span class="n">SOURCE_V</span><span class="p">])</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax0</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(())</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(())</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">fig_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">fig_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="c1">#------------------</span>
    <span class="n">ax0</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Vlhs</span><span class="p">,</span><span class="n">I</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$V_</span><span class="si">{in}</span><span class="s1">-R_1I-V(I)=0$&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Vrhs</span><span class="p">,</span><span class="n">I</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$V(I)-R_2I=0$&#39;</span><span class="p">)</span>
    <span class="c1">#---</span>
    <span class="c1">#eixos x-y</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1">#---</span>
    <span class="n">lab</span> <span class="o">=</span> <span class="s1">&#39;$V_</span><span class="si">{aberto}</span><span class="s1">$&#39;</span><span class="o">+</span><span class="s1">&#39;=</span><span class="si">{}</span><span class="s1"> V&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Vin</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Vin</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">lab</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">lab</span> <span class="o">=</span> <span class="s1">&#39;$I_</span><span class="si">{curto}</span><span class="s1">$&#39;</span><span class="o">+</span><span class="s1">&#39;=</span><span class="si">{:2.1f}</span><span class="s1"> mA&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vin</span><span class="o">/</span><span class="n">R1</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">Vin</span><span class="o">/</span><span class="n">R1</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">lab</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1">#solução para corrente e tensão</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vin</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">Vin</span><span class="o">*</span><span class="n">R2</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">lab</span> <span class="o">=</span> <span class="s1">&#39;I,V=</span><span class="si">{:2.1f}</span><span class="s1"> mA, </span><span class="si">{:2.1f}</span><span class="s1"> V&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vin</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span><span class="n">Vin</span><span class="o">*</span><span class="n">R2</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">))</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Vin</span><span class="o">*</span><span class="n">R2</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vin</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">lab</span><span class="p">)</span>
    <span class="c1">#-----------------------</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tensão (V)&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Corrente (mA)&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="n">Vin_min</span><span class="p">,</span><span class="n">Vin_max</span><span class="p">])</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="n">I_min</span><span class="p">,</span><span class="n">I_max</span><span class="p">])</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;center left&#39;</span><span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">plticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">plticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> 
    <span class="c1">#plt.tight_layout()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "9d28afea9a18480d973405b50e39aa35", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<p>Naturalmente, o ponto de interseção das duas curvas fornece a corrente elétrica no circuito:</p>
<div class="math notranslate nohighlight">
\[I=\frac{V_{in}}{R_1+R_2},\]</div>
<p>assim como a tensão no resistor <span class="math notranslate nohighlight">\(R_2\)</span>: <span class="math notranslate nohighlight">\(V_{out}=\frac{R_2}{R_1+R_2}\)</span>. Este par ordenado é mostrado na figura acima.</p>
<div class="section" id="curvas-de-carga">
<h3>Curvas de carga<a class="headerlink" href="#curvas-de-carga" title="Permalink to this headline">¶</a></h3>
<p>A estratégia usada acima, de traçar as curvas de <span class="math notranslate nohighlight">\(I\times V\)</span> da parte Ohmica e encontrar a sua interseção com o componente desconhecido (aqui no caso o resistor <span class="math notranslate nohighlight">\(R_2\)</span>) é conhecido como método das curvas de carga.
Sabendo traçar estas curvas, podemos avaliar a corrente e tensão que teremos no componente desejado (<span class="math notranslate nohighlight">\(R_2\)</span>) como função dos demais parâmetros do circuito.
Duas variáveis são comuns aqui:</p>
<ul class="simple">
<li><p>a tensão de entrada <span class="math notranslate nohighlight">\(V_{in}\)</span>;</p></li>
<li><p>a resistência <span class="math notranslate nohighlight">\(R_1\)</span>.
Nos trechos de código abaixo são geradas curvas quando cada um destes parâmetros é variado independetemente:</p></li>
</ul>
<div class="section" id="variando-a-tensao-de-entrada-v-in">
<h4>Variando a tensão de entrada <span class="math notranslate nohighlight">\(V_{in}\)</span><a class="headerlink" href="#variando-a-tensao-de-entrada-v-in" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="c1">#Valores numéricos</span>
<span class="n">R1</span> <span class="o">=</span> <span class="mi">500</span> <span class="c1"># resistencia R1</span>
<span class="n">R2</span> <span class="o">=</span> <span class="mi">700</span> <span class="c1"># resistencia R2</span>
<span class="n">VinMin</span><span class="p">,</span> <span class="n">VinMax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span> <span class="c1">#limites do parâmetro de varredura</span>
<span class="c1">#---</span>
<span class="n">I</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">VinMax</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="p">),</span><span class="mi">100</span><span class="p">)</span>
<span class="n">Vrhs</span> <span class="o">=</span> <span class="n">R2</span><span class="o">*</span><span class="n">I</span> <span class="c1"># equação RHS</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Vrhs</span><span class="p">,</span><span class="n">I</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;$V(I)=R_2I$&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">Vin</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">VinMin</span><span class="p">,</span><span class="n">VinMax</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
    <span class="c1">#----------------------</span>
    <span class="n">Vlhs</span> <span class="o">=</span> <span class="n">Vin</span><span class="o">-</span><span class="n">R1</span><span class="o">*</span><span class="n">I</span> <span class="c1"># equação LHS</span>
    <span class="c1">#---</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Vlhs</span><span class="p">,</span><span class="n">I</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;$V$=</span><span class="si">{}</span><span class="s1"> V&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Vin</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Vin</span><span class="o">*</span><span class="n">R2</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vin</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="c1">#-----------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Curvas de carga  variando $V_</span><span class="si">{in}</span><span class="s1">$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tensão (V)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Corrente (mA)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">Vin</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;center left&#39;</span><span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;curva_carga_divisor_tensao_variando_Vin.pdf&#39;</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/diode_background_13_0.svg" src="../../_images/diode_background_13_0.svg" /></div>
</div>
</div>
<div class="section" id="variando-a-resistencia-r-1">
<h4>Variando a resistência  <span class="math notranslate nohighlight">\(R_{1}\)</span><a class="headerlink" href="#variando-a-resistencia-r-1" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="c1">#inicializa figura</span>
<span class="c1">#---</span>
<span class="c1">#Valores numéricos</span>
<span class="n">Vin</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># tensão da fonte</span>
<span class="n">R2</span> <span class="o">=</span> <span class="mi">700</span> <span class="c1"># resistencia R2</span>
<span class="n">R1min</span><span class="p">,</span> <span class="n">R1max</span><span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">1000</span> <span class="c1">#limites do parâmetro de varredura</span>
<span class="n">I</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">Vin</span><span class="o">/</span><span class="p">(</span><span class="n">R1min</span><span class="p">),</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># vetor de corrente</span>
<span class="c1">#---</span>
<span class="n">Vrhs</span> <span class="o">=</span> <span class="n">R2</span><span class="o">*</span><span class="n">I</span> <span class="c1"># equação RHS</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Vrhs</span><span class="p">,</span><span class="n">I</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;$V(I)=R_2I$&#39;</span><span class="p">)</span>
<span class="c1">#---</span>
<span class="k">for</span> <span class="n">R1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">R1min</span><span class="p">,</span><span class="n">R1max</span><span class="p">,</span><span class="mi">250</span><span class="p">):</span>
    <span class="n">Vlhs</span> <span class="o">=</span> <span class="n">Vin</span><span class="o">-</span><span class="n">R1</span><span class="o">*</span><span class="n">I</span> <span class="c1"># equação LHS</span>
    <span class="c1">#---</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Vlhs</span><span class="p">,</span><span class="n">I</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;$R_1$=</span><span class="si">{}</span><span class="s1"> $\Omega$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">R1</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Vin</span><span class="o">*</span><span class="n">R2</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vin</span><span class="o">/</span><span class="p">(</span><span class="n">R1</span><span class="o">+</span><span class="n">R2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="c1">#-----------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Curvas de carga  variando $R_1$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tensão (V)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Corrente (mA)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">Vin</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;center left&#39;</span><span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;curva_carga_divisor_tensao_variando_R1.pdf&#39;</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/diode_background_15_0.svg" src="../../_images/diode_background_15_0.svg" /></div>
</div>
</div>
</div>
</div>
<div class="section" id="circuitos-com-diodos">
<h2>Circuitos com diodos<a class="headerlink" href="#circuitos-com-diodos" title="Permalink to this headline">¶</a></h2>
<p>Considere agora um circuito contendo um elemento cuja relação entre tensão e corrente é não-linear, por exempleo, um diodo. O caso do diodo fornece uma aplicação importante do método das curvas de carga discutido acima.
Quando se ignora efeitos de ruptura (breakdown),a corrente no diodo depende da tensão entre seus terminais da seguinte forma:</p>
<div class="math notranslate nohighlight">
\[I(V)=I_S (\exp\left(\frac{q V}{k_B T}\right)-1).\]</div>
<p>Sendo que,</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(I_S\)</span> [A] é a tensão de saturação reversa (depende da temperatura);</p></li>
<li><p><span class="math notranslate nohighlight">\(k_B\approx1.38\times10^{-23} \)</span> [J/K] é constante de Boltzmann;</p></li>
<li><p><span class="math notranslate nohighlight">\(T \)</span> [K] é a temperatura da junção PN;</p></li>
<li><p><span class="math notranslate nohighlight">\(q\approx1.6\times 10^{-19} \)</span> [C] é a carga do elétron.</p></li>
</ul>
<p>Note que <span class="math notranslate nohighlight">\(q/(k_B T)\approx39.6\equiv \beta \)</span> [C/J] para <span class="math notranslate nohighlight">\(T=293\)</span> [K], portanto <span class="math notranslate nohighlight">\(I(V)=I_S (\exp(\beta V)-1).\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">/</span><span class="mi">39</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.02564102564102564
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Pacotes para lidar com unidades</span>
<span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">un</span>
<span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">constants</span> <span class="k">as</span> <span class="n">cte</span>
<span class="c1">#---</span>
<span class="p">(</span><span class="n">cte</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="n">si</span><span class="o">/</span><span class="p">(</span><span class="n">cte</span><span class="o">.</span><span class="n">k_B</span><span class="o">*</span><span class="mi">293</span><span class="o">*</span><span class="n">un</span><span class="o">.</span><span class="n">Kelvin</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_latex math notranslate nohighlight">
\[39.605864 \; \mathrm{\frac{C}{J}}\]</div>
</div>
</div>
<p>Atribuindo valores para <span class="math notranslate nohighlight">\(I_S\)</span> o comportamento da curva <span class="math notranslate nohighlight">\(I\times V\)</span> para o diodo poder ser graficado:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(I_S^\text{(Ge)}\approx 10^{-8} A\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(I_S^\text{(Si)}\approx 10^{-13} A\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(I_S^\text{(GaAs)}\approx 7\times 10^{-21} A\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span> <span class="c1"># vetor com tensões</span>
<span class="c1">#----------------------</span>
<span class="n">β</span><span class="o">=</span><span class="mf">39.6</span>
<span class="n">Is_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Ge&#39;</span><span class="p">:</span><span class="mf">1e-8</span><span class="p">,</span><span class="s1">&#39;Si&#39;</span><span class="p">:</span><span class="mf">1e-13</span><span class="p">,</span><span class="s1">&#39;GaAs&#39;</span><span class="p">:</span><span class="mf">7e-21</span><span class="p">}</span> <span class="c1"># dicionario contendo nome dos materias e valores de Is</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="n">Is_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="n">Is_dict</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">β</span><span class="o">*</span><span class="n">V</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># corrente no diodo</span>
    <span class="c1">#---</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="n">Id</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">material</span><span class="p">)</span>
    
<span class="c1">#-----------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tensão (V)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Corrente (mA)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;center left&#39;</span><span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;curva_IV_materiais.pdf&#39;</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/diode_background_20_0.svg" src="../../_images/diode_background_20_0.svg" /></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span> <span class="c1"># vetor com tensões</span>
<span class="c1">#----------------------</span>
<span class="n">β</span><span class="o">=</span><span class="mf">39.6</span>
<span class="n">Is_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Ge&#39;</span><span class="p">:</span><span class="mf">1e-8</span><span class="p">,</span><span class="s1">&#39;Si&#39;</span><span class="p">:</span><span class="mf">1e-13</span><span class="p">,</span><span class="s1">&#39;GaAs&#39;</span><span class="p">:</span><span class="mf">7e-21</span><span class="p">}</span> <span class="c1"># dicionario contendo nome dos materias e valores de Is</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="n">Is_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="o">-</span><span class="n">Is_dict</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">β</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="n">V</span><span class="p">))</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># corrente no diodo</span>
    <span class="c1">#---</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="n">Id</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">material</span><span class="p">)</span>
    
<span class="c1">#-----------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tensão (V)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Corrente (mA)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;center left&#39;</span><span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;curva_IV_materiais.pdf&#39;</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/diode_background_21_0.svg" src="../../_images/diode_background_21_0.svg" /></div>
</div>
<p>Naturalmente o comportamento da corrente não é linear com a tensão. Considere o circuito abaixo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">=</span><span class="n">DivTensao</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">RES</span><span class="p">,</span><span class="s1">&#39;R&#39;</span><span class="p">],[</span><span class="n">e</span><span class="o">.</span><span class="n">DIODE</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">],</span><span class="n">fonte</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span><span class="n">e</span><span class="o">.</span><span class="n">SOURCE_V</span><span class="p">])</span>
<span class="n">d</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;divisor_diodo_vdiodo.pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/diode_background_23_0.svg" src="../../_images/diode_background_23_0.svg" /></div>
</div>
<p>Para tentar resolvê-lo algebricamente, basta escrever a KVL,</p>
<div class="math notranslate nohighlight">
\[V_{in}-R I- V_D(I)=0.\]</div>
<p>Substituindo a equação do diodo <span class="math notranslate nohighlight">\(V_D=\frac{1}{\beta}\ln(1+\frac{I}{I_S})\)</span>, a equação resultante que será necessário resolver é</p>
<div class="math notranslate nohighlight">
\[V_{in}-R I- \frac{1}{\beta}\ln\left(1+\frac{I}{I_S}\right)=0.\]</div>
<p>O problema é que a equação acima é transcendental e não admite soluções algébricas.</p>
<p><span style="color:red">É neste ponto que o método das linhas de carga se torna poderoso, pois nos permite avaliar o comportamento do circuito mesmo sem resolver explicitamente a equação decorrente da KVL</span>.</p>
<p><em>Nota: Para valores de corrente bem pequenos (tais que <span class="math notranslate nohighlight">\(I\gg I_S\)</span>), é possível aproximar a KVL acima e utilizar uma função especial (Função <span class="math notranslate nohighlight">\(W\)</span> de Lambert) para resolver alguns casos da KVL. Contudo, a própria função <span class="math notranslate nohighlight">\(W\)</span> não pode ser expressada como combinação de funções elementares métodos numéricos para ser calculada.</em></p>
<p>A seguir vamos aplicar o método das curvas de carga ao circuito acima:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Idiodo</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="n">Is</span><span class="o">=</span><span class="mf">1e-13</span><span class="p">):</span>
    <span class="n">β</span> <span class="o">=</span> <span class="mf">39.6</span> <span class="c1">#[1/V]</span>
    <span class="k">return</span> <span class="n">Is</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">β</span><span class="o">*</span><span class="n">V</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">Vdiodo</span><span class="p">(</span><span class="n">I</span><span class="p">,</span><span class="n">Is</span><span class="o">=</span><span class="mf">1e-13</span><span class="p">):</span>
    <span class="n">β</span> <span class="o">=</span> <span class="mf">39.6</span> <span class="c1">#[1/V]</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">β</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="o">/</span><span class="n">Is</span><span class="p">)</span>
<span class="c1"># def KVL(I):</span>
<span class="c1">#     Vlhs = Vin-R*I</span>
<span class="c1">#     Vrhs = Vdiodo(I)</span>
<span class="c1">#     return Vlhs-Vrhs</span>
<span class="k">def</span> <span class="nf">KVL</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="n">Vin</span><span class="p">,</span><span class="n">R</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Vin</span><span class="o">-</span><span class="n">R</span><span class="o">*</span><span class="n">Idiodo</span><span class="p">(</span><span class="n">V</span><span class="p">)</span><span class="o">-</span><span class="n">V</span>
<span class="k">def</span> <span class="nf">Vdiodo</span><span class="p">(</span><span class="n">Vin</span><span class="p">,</span><span class="n">V0</span><span class="p">,</span><span class="n">R</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">optimize</span><span class="o">.</span><span class="n">brentq</span><span class="p">(</span><span class="n">KVL</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.1</span><span class="o">*</span><span class="n">V0</span><span class="p">,</span> <span class="mf">1.1</span><span class="o">*</span><span class="n">V0</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">Vin</span><span class="p">,</span><span class="n">R</span><span class="p">))</span>
    <span class="c1">#return fixed_point(lambda x: Vin-R*Idiodo(x)-x,0.6,args=(1.0,100))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#res = fixed_point(KVL,0.6,args=(1.0,100)).item()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">Vin</span><span class="o">=</span><span class="p">(</span><span class="mf">1e-3</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.01</span><span class="p">),</span><span class="n">R</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">300</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">plot_load_lines_diodo</span><span class="p">(</span><span class="n">Vin</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">R</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="c1">#limites dos eixos</span>
    <span class="n">Vin_min</span><span class="p">,</span> <span class="n">Vin_max</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span> <span class="c1"># [V]</span>
    <span class="n">I_min</span><span class="p">,</span> <span class="n">I_max</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span> <span class="c1"># [mA]</span>
    <span class="c1">#-------------</span>
    <span class="n">V</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1">#I = Idiodo(V)  # equação diodo</span>
    <span class="n">I</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">I_min</span><span class="p">,</span><span class="n">I_max</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="c1">#----------------------</span>
    <span class="n">Vlhs</span> <span class="o">=</span> <span class="n">Vin</span><span class="o">-</span><span class="n">R</span><span class="o">*</span><span class="n">I</span> <span class="c1"># equação LHS</span>
    <span class="c1">#Vlhs = Vin-R*Id # equação LHS</span>
    <span class="c1">#Vrhs = Vdiodo(Vin,Vin,R) # equação RHS</span>
    
    <span class="c1">#---</span>
    <span class="n">fig_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="n">fig_size</span><span class="p">)</span>
    <span class="c1">#------------------</span>
    <span class="n">ax0</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">DivTensao</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">RES</span><span class="p">,</span><span class="s1">&#39;R&#39;</span><span class="p">],[</span><span class="n">e</span><span class="o">.</span><span class="n">DIODE</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">],</span><span class="n">fonte</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span><span class="n">e</span><span class="o">.</span><span class="n">SOURCE_V</span><span class="p">])</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax0</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(())</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(())</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">fig_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">fig_size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="c1">#------------------</span>
    <span class="n">ax0</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Vlhs</span><span class="p">,</span><span class="n">I</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$V_</span><span class="si">{in}</span><span class="s1">-R_1I-V(I)=0$&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">Idiodo</span><span class="p">(</span><span class="n">V</span><span class="p">)</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$V(I)-R_2I=0$&#39;</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1">#---</span>
    <span class="c1">#eixos x-y</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1">#---</span>
    <span class="n">lab</span> <span class="o">=</span> <span class="s1">&#39;$V_</span><span class="si">{aberto}</span><span class="s1">$&#39;</span><span class="o">+</span><span class="s1">&#39;=</span><span class="si">{}</span><span class="s1"> V&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Vin</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Vin</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">lab</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">lab</span> <span class="o">=</span> <span class="s1">&#39;$I_</span><span class="si">{curto}</span><span class="s1">$&#39;</span><span class="o">+</span><span class="s1">&#39;=</span><span class="si">{:2.1f}</span><span class="s1"> mA&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vin</span><span class="o">/</span><span class="n">R</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">Vin</span><span class="o">/</span><span class="n">R</span><span class="o">*</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">lab</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1">#solução para corrente e tensão</span>
    <span class="n">Vd</span> <span class="o">=</span> <span class="n">Vdiodo</span><span class="p">(</span><span class="n">Vin</span><span class="p">,</span><span class="n">Vin</span><span class="p">,</span><span class="n">R</span><span class="p">)</span> <span class="c1"># equação RHS</span>
    <span class="n">Id</span> <span class="o">=</span> <span class="n">Idiodo</span><span class="p">(</span><span class="n">Vd</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Id</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">Vd</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">lab</span> <span class="o">=</span> <span class="s1">&#39;I,V=</span><span class="si">{:2.0f}</span><span class="s1"> μA, </span><span class="si">{:2.0f}</span><span class="s1"> mV&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1e6</span><span class="o">*</span><span class="n">Id</span><span class="p">,</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Vd</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Vd</span><span class="p">,</span><span class="mf">1e3</span><span class="o">*</span><span class="n">Id</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">lab</span><span class="p">)</span>
    <span class="c1">#-----------------------</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tensão (V)&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Corrente (mA)&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="n">Vin_min</span><span class="p">,</span><span class="n">Vin_max</span><span class="p">])</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="n">I_min</span><span class="p">,</span><span class="n">I_max</span><span class="p">])</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="s1">&#39;center left&#39;</span><span class="p">,</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">plticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">plticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> 
    <span class="c1">#plt.tight_layout()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "d2d28677296940e49dacb8448467cd58", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_load_lines_diodo</span><span class="p">(</span><span class="n">Vin</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">R</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/diode_background_29_0.png" src="../../_images/diode_background_29_0.png" />
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "gwiederhecker/F540_jbook",
            ref: "2021_1s",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./guides/exp2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="../exp1/exemplo_ajuste_rc.html" title="previous page">Data analysis: Fitting the filter transfer function</a>
    <a class='right-next' id="next-link" href="exp2-guide.html" title="next page">Guide to Experiment 2: Diodes</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Gustavo Wiederhecker &  Varlei Rodrigues<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>